{% if site.theme_settings.katex %}
<!-- The next line is commented out by Gaberber and replaced with the script below -->
<!-- script src="{{ "/js/katex_init.js" | prepend: site.baseurl }}"></script -->

<!-- The following two scripts are added by Gaberber as instructed in https://github.com/gettalong/kramdown/issues/292 
The first line includes jQuery.
The next script replaces the MathJax commands generated by kramdown with KaTeX rendering results. -->
<script src="{{ "/js/jquery-3.2.1.min.js" | prepend: site.baseurl }}"></script>
 <script>
   $("script[type='math/tex']").replaceWith(function() {
       var tex = $(this).text();
       // replace() here is due to CDATA wrapper (#224). KaTeX chokes on the % character,
       // which is unfortunate (and should probably be reported).
       return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: false});
   });

   $("script[type='math/tex; mode=display']").replaceWith(function() {
       var tex = $(this).html();
       // replace() here is due to CDATA wrapper (#224). KaTeX chokes on the % character,
       // which is unfortunate (and should probably be reported).
       return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
   });
 </script>
{% endif %}


{% if site.theme_settings.footer_text %}
<footer class="site-footer">
	<p class="text">{{ site.theme_settings.footer_text }}</p>
</footer>
{% endif %}

